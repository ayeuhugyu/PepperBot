REWRITE TODO
---

commands to finish:
p/gpt add
p/todo
p/update - change to subcommands so that users can do p/update get 123 and instead would be p/update create ping=true update text here
p/deploy (supposedly finished by The Homomorphist but not merged)
p/undeploy
p/equipment
p/info
p/queue
p/playurl (will probably just add to queue and play instead now)
p/random
p/statistics
p/cquery
p/force
p/help

website stuff to finish:
/guide (will be generated by command long_description and stuff now instead of manually made)
/invite (will be a basic advertisement)
/statistics
/logs
/updates (views updates)
/config (utilize oauth2 shenanigans)
/prompts (also utilize oauth2 shenanigans) (tis the prompt browser)
/terms & /privacy (these two can come much later though, they're just needed for discord verification)
dunno the name but something that just redirects to the discord bot invite link

stuff to finish:
slash commands (again supposedly finished by The Homomorphist but not merged) -- make sure subcommands are actual discord subcommands
statistics
update manager - add all past updates

things to fix:
root aliases
piping allowlist for subcommands not ignoring parent's

LATEST UPDATE
---
it has finally been done! the rewrite is complete!

lets start off with the bad stuff so you'll forget about it by the time you finish reading
**removals:**
- p/cleanup
- p/notice
- p/trueban  (as well as systems related to it)
- p/blacklist
- p/pepperannouncement
- p/setversion
- p/subupdate (p/update automatically splits now )
- p/patch
- p/corrupt (it was so ass)
- p/jak (soloed by booru.soy)
- p/embed
- p/markov

the biggest new base feature
**command piping:**

- commands can now be piped by adding " | p/command" to the end of it. for example: "p/test | p/test | p/test"
- new command p/grep which functions nearly identically to grep on linux, added exclusively for the purpose of piping to it
- commands that can now be piped, and their effects:
  - p/test can now be piped to itself, displaying the full time it took to execute all p/tests at the end
  - p/git log can now be piped to grep
  - p/eval can now be piped to grep
  - p/chatbubble now has piping support, nothing uses it yet though

**gpt stuff:**

- tool calls have been improved, instead of using my own system i am yet again using another openai feature. i've found one that allows for tools but without the usage of the stupid assistants api, resulting in only a little bit slower response times, compared to the much slower times the last time i tried this. this has several benefits:
  - tool calls can no longer be messed up, so never again will you see $EXEC_TOOL stuff
  - custom prompts can now use tool calls
  - tool calls will take less time to process because the AI doesn't need to spend time writing $EXEC_TOOL or the text he likes to write around it
- p/prompt has been completely overhauled
  - prompts are now automatically saved instead of you having to do p/prompt save
  - prompts can now be published for viewing on the prompt browser
  - prompts now save when they were last updated & created & published
  - prompts now have a description property (to be used by the prompt browser)
  - prompts now have an nsfw property (to be used by the prompt browser)
  - you can now set the default prompt to a custom one
  - saved prompts can now be deleted
- gpt now has a completely new prompt
  - if you for some reason want to use the old prompt, you still can by running `p/prompt clone PepperBot/old`
- gpt conversations are now MUCH more customizable via the use of p/gpt setparam
- gpt responses now use openai's seeding feature so they can be reproduced
- new "random" tool allows gpt to generate random numbers
- AI can now see stickers

**actual content:**

- command data has been overhauled
  - whitelists are now comprised of users, roles, channels, and guilds rather than just users
  - blacklists now exist (exact opposite of whitelists)
  - improved help/tutorial values:
    - commands can now have categories
    - descriptions are separated into a short and long form, one for display under a slash command and one for all other cases
    - requirements can now have longer forms (ex. required if arg2 is undefined)
    - contributors can be added (basically just to credit people)
    - commands now have usage examples
    - commands now have argument orders
- site has been completely remade
- bots can no longer execute any commands. this was just yet another value i had to think about if it would cause problems or not
- p/vc join & leave now check for the "speak" permission instead of the "connect" permission
- p/sound list & p/prompt list now use a 3 column list instead of a text file

**technical details:**

- javascript -> typescript
- running off of bun now instead of nodejs
- constant resources have been separated into a /constant folder
- user data has been transformed into a SQL database
- guild config values are now separated by category
- most processes now host a server for easy inter-process communication (because oh my god the default is so insanely terrible)
- data passed to commands is no longer a list of 4 arguments, instead just one object you can choose what you want from. that also lets me reasonably pass a LOT more data to them
- im no longer using the slash command builders because they are annoying and i hate them i hate them i hate them get them out of my sight
- voice connections are now managed by GuildVoiceManagers which automatically create audio players
- the GPT script's file type checker thing no longer uses my own stupid thing and instead now uses mime-types
- site is now largely made on the server rather than using javascript to request endpoints and use them
- normal aliases have been renamed to root aliases
- text converted to attachments is no longer stored in a cache file